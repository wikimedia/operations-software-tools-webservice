= tools-webservices =

This Debian package will deploy the `webservice` command line interface
which enables Toolforge users to host and interact with webservices in Toolforge.

It is tipically installed in Toolforge bastions servers.

Documentation about how to use the `webservice` utility can be found at:

https://wikitech.wikimedia.org/wiki/Help:Toolforge/Web

== Development ==

Some notes on the development of tools-webservice.

Most people developing this package ends up reusing Toolsbeta
as shared development environment. For that:
* read https://wikitech.wikimedia.org/wiki/Portal:Toolforge/Admin/Toolsbeta
* pick a placeholder tool (like: test, test2, test3)
* let others know that you are testing something in Toolsbeta
* upload your changes to Gerrit
* pull your changes from Gerrit into the toolsbeta bastion and install it 
  (Note that you might need root access for this).
* become the placeholder tool and run your tests!
  (Note that you might need to check more than one test tool because 
  there is no guarantee that a user is not currently running a webservice 
  with the your test tool of choice)

It is difficult to have a working setup of tools-webservice
on a local laptop for development. You would need to replicate most of
the components described here:
https://wikitech.wikimedia.org/wiki/Portal:Toolforge/Admin/Kubernetes/Networking_and_ingress

It would involve:

* having a local kubernetes cluster (minikube, kind, etc)
* having a working ingress-nginx setup like the one deployed to Toolforge
** from https://gitlab.wikimedia.org/repos/cloud/toolforge/ingress-nginx
* having a setup similar to the one used in the jobs-framework-api:
** https://gerrit.wikimedia.org/r/plugins/gitiles/cloud/toolforge/jobs-framework-api/+/refs/heads/main/devel/README.md

